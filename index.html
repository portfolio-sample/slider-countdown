<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
  <link rel="stylesheet" href="base.css">
  <link rel="stylesheet" type="text/css" href="slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
<script src="moment.js"></script>
  <script type="text/javascript" src="jQuery-3.5.1.min.js"></script>
  <script type="text/javascript" src="slick/slick.min.js"></script>
  <title></title>
</head>

<body>

  <div class="slider-outer">
    <div class="your-class">
      <div class="count-down">
        <p id="countDownMsg"></p>
        <img src="img/audience.jpg" alt="">
      </div>
      <img src="img/soccer.jpg" alt="">
      <img src="img/bouldering.jpg" alt="">
    </div>
  </div>


  <script type="text/javascript">
    function date_test() {
      var today = moment();
      var date = moment('2018-12-01 12:00:00');
      // dateがInvalid dateになっていた！
      var resulta = date - today;
      var diff = today.diff(date)
      document.getElementById("result").innerHTML = today;
      document.getElementById("results").innerHTML = date;
      document.getElementById("resulta").innerHTML = resulta;
      document.getElementById("resultas").innerHTML = resultas;
    }
  </script>

  <div>
    <input type="button" value="Date Test" onclick="date_test();" />
  </div>
  <div>
    today: <span id="result"></span><br>
    1201: <span id="results"></span><br>
    差: <span id="resulta"></span><br>
    差(メソッド): <span id="resultas"></span><br>
  </div>

  <script>
  // スライドショー本体のコード
    $(document).ready(function(){
      $('.your-class').slick({
        autoplay:false,
        autoplaySpeed: 3000,
        dots:true,
        fade: true,
      });
    });

    // カウントダウン部分のコード
    $(document).ready(function(){
      // var openingDay = new Date('07,23,2021, 00:00');
      // var openingCeremony = new Date('07,23,2021, 20:00');
      // var closingSession = new Date('08,08,2021, 20:00');
      var openingDay = moment('2021-7-23 00:00:00');
      var openingCeremony = moment('2021-7-23 20:00:00');
      var closingSession = moment('2021-8-08 20:00:00');
      var times = 24 * 60 * 60 * 1000;

      setInterval(function(){
        // var today = new Date('07,23,2020, 00:00');
        var today = moment('2021-7-22 00:00:00');
    		var diff = openingDay - today;
    		var countDownDay = Math.ceil(diff / times);// 開幕当日までの残り日数 //
        if ( diff < 1 ) {
          $("#countDownMsg").html("<p>オリンピック開幕まで<br>残り<span id='count-down-day'></span>日！</p>");
          $("#count-down-day").html(countDownDay);
         }
      },1000);
      //
    });
  </script>
</body>

</html>
